# COPILOT OPERATING RULES — PROJECT LEVEL
# (These are instructions for pattern-matching, NOT understanding)

# RULE 1 — Follow the Contract Atlas
When generating code, reference the file CONTRACT_ATLAS.md for all:
- data shapes
- field names
- types
- lifecycle rules
- adapter outputs
- event structures

# RULE 2 — Never invent fields or structures
All fields in events, adapters, payloads, metadata, and configs
must match the definitions in CONTRACT_ATLAS.md.

# RULE 3 — Never return dicts where Event objects are expected
Adapters MUST return Event objects created by EventManager.
Raw dicts are not allowed.

# RULE 4 — Step-by-step welding
Every major change must be produced as:
1. Component analysis
2. Component output
3. Integration notes
4. End-to-end test

# RULE 5 — Ask for clarification if unsure
If component boundaries or type contracts are unclear,
Copilot must ask the user before writing code.

# RULE 6 — Never refactor existing architecture
Only implement requested parts.
Do not restructure modules.
Do not rename functions.
Do not modify established patterns.
